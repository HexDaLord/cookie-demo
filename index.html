<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wie Websites dich erkennen ğŸª â€“ Interaktive Demo</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  body { font-family: "Segoe UI", Arial, sans-serif; background:#f6f8fa; margin:0; padding:0; color:#333; }
  header { background:#4a90e2; color:white; padding:1.5rem; text-align:center; }
  main { max-width:900px; margin:2rem auto; padding:1rem; }
  section { background:white; border-radius:12px; padding:1.5rem; box-shadow:0 2px 8px rgba(0,0,0,0.05); margin-bottom:2rem; }
  h2 { color:#4a90e2; margin-top:0; }
  button { background:#4a90e2; color:white; border:none; padding:0.6rem 1.2rem; border-radius:8px; cursor:pointer; font-size:1rem; margin-right:0.5rem; margin-bottom:0.5rem; }
  button:hover { background:#357abd; }
  pre { background:#f9f9f9; padding:1rem; border-radius:8px; overflow-x:auto; white-space:pre-wrap; margin-top:0.5rem; }
  .info { font-size:0.95rem; background:#eef6ff; padding:0.8rem 1rem; border-left:4px solid #4a90e2; margin-bottom:1rem; border-radius:6px; }
  #map { height:300px; width:100%; border-radius:8px; margin-top:1rem; display:none; }
  #greeting { font-size:1.3rem; font-weight:500; text-align:center; margin-bottom:1.5rem; }
  footer { text-align:center; padding:1rem; background:#f0f0f0; font-size:0.9rem; color:#666; }
</style>
</head>
<body>
<header>
  <h1>Wie Websites dich erkennen ğŸª</h1>
  <p>Interaktive Unterrichts-Demo</p>
</header>

<main>
  <div id="greeting">Hallo, SchÃ¼ler!</div>

  <!-- Abschnitt 1: Cookies -->
  <section>
    <h2>ğŸª Cookies â€“ persÃ¶nliche BegrÃ¼ÃŸung</h2>
    <div class="info">
      Websites kÃ¶nnen kleine Textdateien speichern, sogenannte Cookies.  
      Diese Demo zeigt, wie ein Name gespeichert wird, um dich bei deinem nÃ¤chsten Besuch zu erkennen.
    </div>
    <button onclick="setCookies()">Cookies setzen</button>
    <button onclick="deleteCookies()">Cookies lÃ¶schen</button>
    <pre id="cookie-info">Noch keine Cookies gesetzt.</pre>
  </section>

  <!-- Abschnitt 2: GerÃ¤tedaten -->
  <section>
    <h2>ğŸ’» Browser- & GerÃ¤tedaten</h2>
    <div class="info">
      Websites kÃ¶nnen technische Informationen Ã¼ber dein GerÃ¤t erkennen â€“ z. B. Browsertyp, Sprache, BildschirmgrÃ¶ÃŸe oder Zeitzone.
    </div>
    <button onclick="showDeviceInfo()">Daten anzeigen</button>
    <pre id="device-info">Noch keine Daten angezeigt.</pre>
  </section>

  <!-- Abschnitt 3: Standort -->
  <section>
    <h2>ğŸ“ Standortdaten</h2>
    <div class="info">
      Dein Standort kann â€“ nur mit deiner Zustimmung â€“ vom Browser ermittelt werden.  
      Das passiert z. B. Ã¼ber GPS oder WLAN.  
      Die Karte zeigt an, wo sich dein GerÃ¤t ungefÃ¤hr befindet.
    </div>
    <button onclick="getLocation()">Standort abfragen</button>
    <pre id="location-info">Noch keine Standortdaten.</pre>
    <div id="map"></div>
  </section>

  <!-- Abschnitt 4: Werbecookies -->
  <section>
    <h2>ğŸ“¢ Werbecookies & Tracking</h2>
    <div class="info">
      Neben nÃ¼tzlichen Cookies gibt es auch sogenannte <b>Tracking- oder Werbecookies</b>.  
      Diese stammen hÃ¤ufig nicht von der Website selbst, sondern von Werbenetzwerken oder Analyseanbietern.  
      Sie verfolgen, welche Seiten du besuchst, um dir personalisierte Werbung zu zeigen.  
      <br><br>
      ğŸ‘‰ Beispiel: Wenn du auf einer Shopping-Seite nach Schuhen suchst, kann ein Werbecookie dafÃ¼r sorgen, dass du spÃ¤ter auf anderen Seiten wieder Werbung fÃ¼r diese Schuhe siehst.  
      <br><br>
      In dieser Demo werden selbstverstÃ¤ndlich <b>keine echten Tracking-Cookies</b> gesetzt.
    </div>
  </section>

  <!-- Abschnitt 5: Entwicklertools -->
  <section>
    <h2>ğŸ›  Cookies einsehen Ã¼ber Entwicklertools</h2>
    <div class="info">
      In modernen Browsern kannst du selbst sehen, welche Cookies gespeichert sind:  
      <ul>
        <li>1ï¸âƒ£ Rechtsklick auf die Seite â†’ <b>â€Untersuchenâ€œ</b> (oder F12)</li>
        <li>2ï¸âƒ£ Tab <b>â€Applicationâ€œ</b> (Chrome) oder <b>â€Speicherâ€œ</b> (Firefox) auswÃ¤hlen</li>
        <li>3ï¸âƒ£ Unter <b>Cookies</b> findest du alle gespeicherten Werte dieser Website</li>
      </ul>
      So kannst du selbst nachvollziehen, was gespeichert wird â€“ und Cookies gezielt lÃ¶schen.
    </div>
  </section>
</main>

<footer>Â© Unterrichts-Demo â€“ Keine Daten werden Ã¼bertragen oder gespeichert.</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// --- Cookies ---
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}
function updateGreeting() {
  const username = getCookie("username");
  const greeting = document.getElementById("greeting");
  greeting.textContent = username ? `Hallo, ${username}!` : "Hallo, SchÃ¼ler!";
}
function setCookies() {
  const name = prompt("Wie heiÃŸt du?", "SchÃ¼lerin");
  if (!name) return;
  document.cookie = `username=${encodeURIComponent(name)}; expires=Fri, 31 Dec 2025 23:59:59 UTC; path=/`;
  document.cookie = "theme=hell; expires=Fri, 31 Dec 2025 23:59:59 UTC; path=/";
  showCookies();
  updateGreeting();
}
function showCookies() {
  const cookieStr = document.cookie;
  document.getElementById("cookie-info").textContent = cookieStr || "Keine Cookies vorhanden.";
}
function deleteCookies() {
  document.cookie.split(";").forEach(c=>{
    const eqPos=c.indexOf("=");
    const name=eqPos>-1?c.substr(0,eqPos).trim():c.trim();
    document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
  });
  showCookies();
  updateGreeting();
}

// --- GerÃ¤tedaten ---
function showDeviceInfo() {
  const info = {
    "Browser / User Agent": navigator.userAgent,
    "Sprache": navigator.language,
    "Cookies aktiviert": navigator.cookieEnabled,
    "Plattform": navigator.platform,
    "BildschirmgrÃ¶ÃŸe": `${window.screen.width} x ${window.screen.height}`,
    "Zeitzone": Intl.DateTimeFormat().resolvedOptions().timeZone,
    "Aktuelle Uhrzeit": new Date().toLocaleString()
  };
  let text="";
  for(const[key,value] of Object.entries(info)) text+=`â€¢ ${key}: ${value}\n`;
  document.getElementById("device-info").textContent=text;
}

// --- Standort + Karte ---
let map;
function getLocation() {
  const output=document.getElementById("location-info");
  const mapDiv=document.getElementById("map");
  if(!navigator.geolocation){ output.textContent="âŒ Standort wird von diesem Browser nicht unterstÃ¼tzt."; return;}
  output.textContent="ğŸ“ Standort wird abgefragt...";
  navigator.geolocation.getCurrentPosition(
    pos=>{
      const {latitude, longitude, accuracy}=pos.coords;
      output.textContent=`âœ… Standort ermittelt:\nBreitengrad: ${latitude.toFixed(5)}\nLÃ¤ngengrad: ${longitude.toFixed(5)}\nGenauigkeit: Â±${Math.round(accuracy)} Meter`;
      mapDiv.style.display="block";
      if(!map){
        map=L.map('map').setView([latitude, longitude],13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{ attribution:'Â© OpenStreetMap-Mitwirkende'}).addTo(map);
      }else map.setView([latitude,longitude],13);
      L.marker([latitude,longitude]).addTo(map).bindPopup("ğŸ“ Dein Standort").openPopup();
    },
    err=>{output.textContent="âš ï¸ Standort konnte nicht ermittelt werden oder wurde abgelehnt."; mapDiv.style.display="none";}
  );
}

// --- Initial ---
updateGreeting();
showCookies();
</script>
</body>
</html>
